<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        span{
          color: red;
        }
      </style>
      <div>
        <template shadowroot="open">
          <style be-adoptive>
            div{
              color: green;
            }
          </style>
          <span>Hello</span>
          <div>world</div>
          <be-hive></be-hive>
        </template>
      </div>
      <span>Hello</span>
      
      <script type=module>
        import 'https://esm.run/be-adoptive@0.0.12';
      </script>
      
      <script>
      (function attachShadowRoots(root) {
          root.querySelectorAll("template[shadowroot]").forEach(template => {
          const mode = template.getAttribute("shadowroot");
          const shadowRoot = template.parentNode.attachShadow({ mode });
          shadowRoot.appendChild(template.content);
          template.remove();
          attachShadowRoots(shadowRoot);
          });
      })(document);
      </script>
</body>
</html>